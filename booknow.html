<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Book Now!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <style>
      body {
  background-color: pink;
  color: black;
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
}

header {
  background-color: black;
  padding: 20px;
}

nav ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
}

nav ul li {
  margin: 0 10px;
}

nav ul li a {
  color: white;
  text-decoration: none;
  transition: color 0.3s;
}

nav ul li a:hover {
  color: #ffc0cb; /* pastel pink */
}

section {
  padding: 50px 20px;
  width: 100%; /* Set the section width to 100% */
  background-color: #ffc0cb; /* pastel pink */
}

footer {
  background-color: black;
  padding: 20px;
  color: white;
  position: fixed;
  bottom: 0;
  width: 100%;
}

.footer-content {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
}

.footer-item {
  display: flex;
  align-items: center;
  margin: 10px;
}

.footer-item a {
  color: white;
  text-decoration: none;
  transition: color 0.3s;
}

.footer-item a:hover {
  color: #ffc0cb; /* pastel pink */
}

.footer-item i {
  margin-right: 5px;
}

.footer-item p {
  margin: 0;
}

.logo {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
}

.logo a {
  color: white;
  text-decoration: none;
  display: flex;
  align-items: center;
  font-size: 24px;
  font-weight: bold;
}

.logo i {
  margin-right: 5px;
  color: #ffc0cb; /* pastel pink */
}

#home {
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
} 
      /* Additional custom styles for the image */
      .image-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 950px; /* Adjust the height as needed */
      }
      .image-container img {
        max-width: 120%;
        max-height: 120%;
      }
      .center-text {
        text-align: center;
        margin: 55px;
      }
      .container button {
      width: 200px; /* Make the input fields and button fill the available width */
      box-sizing: border-box; /* Include padding and border in the width calculation */
      margin-bottom: 10px; /* Add spacing between input fields */

    }
    </style>
  </head>
  <body>  
    <header>
      <div class="logo">
        <a href="index.html">
          <i class="fas fa-spa"></i>
          <span class="spa-name">Zakura's Spa</span>
        </a>
      </div>
      <nav>
        <ul>
          <li><a href="services.html">Services</a></li>
          <li><a href="booknow.html">Book Now</a></li>
          <li><a href="specialists.html">Our Specialists</a></li>
          <li><a href="locations.html">Location and Hours</a></li>
          <li><a href="reviews.html">Customer Reviews</a></li>
        </ul>
      </nav>
    </header>

     <div class="div1 mb-4">
      <!-- Content of the first div -->
    </div>

    <div class="center-text">
      <h1>Book Your Appointment!</h1>
    </div>

    <div class="container">
      <h2>Appointment Details:</h2>
      <div class="div1 mb-4">
        <!-- Content of the first div -->
      </div>
      <form id="myForm">
        <div class="row">
          <div class="col-md-4">
            <div class="mb-3">
              <label for="name" class="form-label">First Name:</label>
              <input type="text" class="form-control" id="firstname" placeholder="Enter your first name">
            </div>
            <div class="mb-3">
              <label for="name" class="form-label">Last Name:</label>
              <input type="text" class="form-control" id="lastname" placeholder="Enter your last name">
            </div>
            <div class="mb-3">
              <label for="name" class="form-label">Email Address:</label>
              <input type="text" class="form-control" id="email" placeholder="Enter your email address">
            </div>
            <div class="mb-3">
              <label for="name" class="form-label">Phone Number:</label>
              <input type="text" class="form-control" id="phone" placeholder="(XXX) - XXX - XXXX">
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="email" class="form-label">Service:</label>
              <select class="form-select" id="service">
                <option value="" selected disabled>Select a service</option>
                <option value="Massage">Massage</option>
                <option value="Facial Treatment">Facial Treatment</option>
                <option value="Manicure/Pedicure">Manicure/Pedicure</option>
                <option value="Hair Removal">Hair Removal</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Specialist:</label>
              <select class="form-select" id="specialist">
                <option value="" selected disabled>Select a specialist</option>
                <option value="Anchali">Anchali</option>
                <option value="Andrew">Andrew</option>
                <option value="Jordan">Jordan</option>
                <option value="Lian">Lian</option>
                <option value="Mary">Mary</option>
                <option value="Tony">Tony</option>
              </select>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <div class="mb-3">
                <label for="name" class="form-label">Date:</label>
              <input type="text" class="form-control" id="date" placeholder="YYYY-MM-DD">
              </div>
              <div class="mb-3">
                <label for="name" class="form-label">Time:</label>
                <select class="form-select" id="time">
                  <option value="" selected disabled>Select a time</option>
                  <option value="9am">9am</option>
                  <option value="10am">10am</option>
                  <option value="11am">11am</option>
                  <option value="12pm">12pm</option>
                  <option value="1pm">1pm</option>
                  <option value="2pm">2pm</option>
                  <option value="3pm">3pm</option>
                  <option value="4pm">4pm</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="div1 mb-4">
          <!-- Content of the first div -->
        </div>
        <div class="row">
          <div class="col" style=" display: flex; justify-content: center;">
            <button type="submit" class="btn btn-dark" width="">Submit</button>
          </div>
        </div>
      </form>
    </div>
     
    <footer>
      <div class="footer-content">
        <div class="footer-item">
          <a href="booknow.html"><i class="fas fa-pen"></i>Book Your Experience</a>
        </div>
        <div class="footer-item">
          <i class="fas fa-map-marker-alt"></i>
          <p>CF Rideau Centre, 50 Rideau St, Ottawa, ON K1N 9J7</p>
        </div>
        <div class="footer-item">
          <i class="fas fa-phone"></i>
          <p>Tel: (613) 333 - 3333</p>
        </div>
        <div class="footer-item">
          <i class="fas fa-copyright"></i>
          <p>2023 ZAKURA'S SPA. All rights reserved</p>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

    <script>
      document.getElementById("myForm").addEventListener("submit", function(event) {
        // Prevent the form from submitting and refreshing the page
        event.preventDefault();

        //helper functions
        function isValidPhoneNumber(phoneNumber) {
          // Regular expression pattern to match a valid phone number
          var phonePattern = /^\d{10}$/;

          // Check if the phoneNumber matches the pattern
          return phonePattern.test(phoneNumber);
        }

      // Function to check if a string is a valid email address
      function isValidEmail(email) {
        // Regular expression pattern to match a valid email address
        var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        // Check if the email matches the pattern
        return emailPattern.test(email);
      }

      function isValidDate(dateString) {
        // Regular expression pattern to match a valid date in the YYYY-MM-DD format
        var datePattern = /^\d{4}-\d{2}-\d{2}$/;

        // Check if the dateString matches the pattern
        if (!datePattern.test(dateString)) {
          return false;
        }

        // Parse the date components (year, month, and day)
        var parts = dateString.split("-");
        var year = parseInt(parts[0], 10);
        var month = parseInt(parts[1], 10);
        var day = parseInt(parts[2], 10);

        // Check if the year, month, and day values are valid
        if (isNaN(year) || isNaN(month) || isNaN(day)) {
          return false;
        }
        if (month < 1 || month > 12 || day < 1 || day > 31) {
          return false;
        }

        // Additional checks for specific months and leap years can be added here if needed

        return true;
      }
  
        // Perform form validation
        var firstNameInput = document.getElementById("firstname");
        var lastNameInput = document.getElementById("email");
        var emailInput = document.getElementById("email");
        var phoneInput = document.getElementById("phone");
        var serviceInput = document.getElementById("service");
        var specialistInput = document.getElementById("specialist");
        var dateInput = document.getElementById("date");
        var timeInput = document.getElementById("time");
        
        //form validation logic
        if(firstNameInput.value.trim() === "") {alert("Please fill out the first name field.");return;}
        if(lastNameInput.value.trim() === "") {alert("Please fill out the last name field.");return;}
        if(!isValidEmail(emailInput.value.trim())) {alert("Invalid email.");return;}
        if(!isValidPhoneNumber(phoneInput.value.trim())) {alert("Invalid phone. Please enter 10 digits.");return;}
        if(serviceInput.value.trim() === "") {alert("Please select a service.");return;}
        if(specialistInput.value.trim() === "") {alert("Please select a specialist.");return;}
        if(!isValidDate(dateInput.value.trim())) {alert("Invalid date.");return;}
        if(timeInput.value.trim() === "") {alert("Please choose a time.");return;}

        var bookingNumber = (Math.random() * 10).toString();
 
        // If all fields are filled out, submit the form
        this.submit();

        window.location.href = "success.html?bookingNumber=" + encodeURIComponent(bookingNumber) +
         "&specialist=" + encodeURIComponent(specialistInput.value) +
         "&serviceType=" + encodeURIComponent(serviceInput.value) +
         "&dateAndTime=" + encodeURIComponent(dateInput.value.trim() + " " + timeInput.value) +
         "&name=" + encodeURIComponent(firstNameInput.value.trim());

      });
    </script>
  </body>
</html>